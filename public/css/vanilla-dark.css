/* 
 * VANILLA DARK THEME
 * A clean, minimal dark theme with subtle purple accents
 */

:root {
  /* Default variables if not overridden */
  --vanilla-dark-background-primary: #1e1e2e; /* Main editor background */
  --vanilla-dark-background-secondary: #252535; /* Secondary backgrounds like gutters */
  --vanilla-dark-text-normal: #e2e2e2; /* Main text color */
  --vanilla-dark-text-muted: #a0a0a0; /* Subdued text color */
  --vanilla-dark-text-accent: #c7b8e0; /* Accent color for highlights */
  --vanilla-dark-cursor: #c7b8e0; /* Cursor color */

  /* === SELECTION & HIGHLIGHTS === */
  --vanilla-dark-selection-bg: rgba(
    199,
    184,
    224,
    0.2
  ); /* Selected text background */
  --vanilla-dark-active-line: rgba(
    255,
    255,
    255,
    0.03
  ); /* Active line background */
  --vanilla-dark-active-line-gutter: rgba(
    255,
    255,
    255,
    0.05
  ); /* Active line gutter */

  /* === SYNTAX HIGHLIGHTING === */
  --vanilla-dark-heading-color: #d1c4ea; /* Heading text color */
  --vanilla-dark-emphasis-color: #e2e2e2; /* Italic text color */
  --vanilla-dark-strong-color: #ffffff; /* Bold text color */
  --vanilla-dark-link-color: #c7b8e0; /* Link text color */
  --vanilla-dark-code-color: #c7b8e0; /* Inline code color */
  --vanilla-dark-quote-color: #a0a0a0; /* Blockquote text color */

  /* === BORDERS & SHADOWS === */
  --vanilla-dark-border-color: #3d3d50; /* Border color */
  --vanilla-dark-shadow: 0 1px 3px rgba(0, 0, 0, 0.3); /* Default shadow */
}

/* Apply stronger colors when vanilla theme is selected */
html[data-theme="vanilla-dark"] {
  --vanilla-dark-background-primary: #1e1e2e; /* Dark purple background */
  --vanilla-dark-background-secondary: #252535; /* Dark purple secondary */
  --vanilla-dark-text-normal: #e2e2e2;
  --vanilla-dark-text-muted: #a0a0a0;
  --vanilla-dark-text-accent: #c7b8e0; /* Light purple accent */
  --vanilla-dark-cursor: #c7b8e0; /* Light purple cursor */
  --vanilla-dark-selection-bg: rgba(199, 184, 224, 0.2); /* Subtle selection */
  --vanilla-dark-active-line: rgba(
    199,
    184,
    224,
    0.05
  ); /* Purple tinted active line */
  --vanilla-dark-active-line-gutter: rgba(
    199,
    184,
    224,
    0.08
  ); /* Purple tinted gutter */
  --vanilla-dark-heading-color: #d1c4ea;
  --vanilla-dark-emphasis-color: #e2e2e2;
  --vanilla-dark-strong-color: #ffffff;
  --vanilla-dark-link-color: #c7b8e0; /* Light purple links */
  --vanilla-dark-code-color: #c7b8e0; /* Light purple code */
  --vanilla-dark-quote-color: #a0a0a0;
  --vanilla-dark-border-color: #3d3d50;
  --vanilla-dark-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
}

/* Add a special highlight color to show the theme is working */
html[data-theme="vanilla-dark"] .cm-editor {
  border: 4px solid #c7b8e0;
  background-color: #1e1e2e !important; /* Force background color */
}

/* Force background color on content area */
html[data-theme="vanilla-dark"] .cm-content {
  background-color: #1e1e2e !important;
}

/* More visible gutter */
html[data-theme="vanilla-dark"] .cm-gutters {
  background-color: #252535 !important;
  border-right: 1px solid #3d3d50 !important;
}

/* Basic editor styling */
.cm-editor {
  height: 100%;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica,
    Arial, sans-serif;
  font-size: 16px;
  line-height: 1.6;
}

/* Content area styling */
html[data-theme="vanilla-dark"] .cm-content {
  padding: 10px 16px;
  color: var(--vanilla-dark-text-normal, #e2e2e2);
}

/* Cursor styling */
html[data-theme="vanilla-dark"] .cm-cursor {
  border-left: 2px solid var(--vanilla-dark-cursor, #c7b8e0) !important;
}

/* Line number styling */
html[data-theme="vanilla-dark"] .cm-lineNumbers {
  color: var(--vanilla-dark-text-muted, #a0a0a0);
  font-size: 14px;
}

/* Active line highlighting */
html[data-theme="vanilla-dark"] .cm-activeLine {
  background-color: var(--vanilla-dark-active-line, rgba(255, 255, 255, 0.03));
}

html[data-theme="vanilla-dark"] .cm-activeLineGutter {
  background-color: var(
    --vanilla-dark-active-line-gutter,
    rgba(255, 255, 255, 0.05)
  );
  color: var(--vanilla-dark-text-accent, #c7b8e0);
}

/* Selection styling */
html[data-theme="vanilla-dark"] .cm-selectionMatch {
  background-color: var(--vanilla-dark-selection-bg, rgba(199, 184, 224, 0.2));
}

html[data-theme="vanilla-dark"] .cm-selectionBackground {
  background-color: var(
    --vanilla-dark-selection-bg,
    rgba(199, 184, 224, 0.2)
  ) !important;
}

/* Markdown syntax highlighting */
html[data-theme="vanilla-dark"] .cm-header {
  color: var(--vanilla-dark-heading-color, #d1c4ea);
  font-weight: bold;
}

html[data-theme="vanilla-dark"] .cm-strong {
  color: var(--vanilla-dark-strong-color, #ffffff);
  font-weight: bold;
}

html[data-theme="vanilla-dark"] .cm-emphasis {
  color: var(--vanilla-dark-emphasis-color, #e2e2e2);
  font-style: italic;
}

html[data-theme="vanilla-dark"] .cm-link {
  color: var(--vanilla-dark-link-color, #c7b8e0);
  text-decoration: underline;
}

html[data-theme="vanilla-dark"] .cm-url {
  color: var(--vanilla-dark-link-color, #c7b8e0);
}

html[data-theme="vanilla-dark"] .cm-quote {
  color: var(--vanilla-dark-quote-color, #a0a0a0);
  font-style: italic;
  border-left: 3px solid var(--vanilla-dark-border-color, #3d3d50);
  padding-left: 10px;
}

html[data-theme="vanilla-dark"] .cm-atom {
  color: var(--vanilla-dark-code-color, #c7b8e0);
}

/* HTML rendering in markdown */
html[data-theme="vanilla-dark"] .cm-html-content {
  background-color: rgba(255, 255, 255, 0.03);
  border-radius: 4px;
  padding: 2px;
}

/* Editor toolbar */
html[data-theme="vanilla-dark"] .obsidian-editor-toolbar {
  display: flex;
  padding: 8px;
  background: var(--vanilla-dark-background-secondary, #252535);
  border-bottom: 1px solid var(--vanilla-dark-border-color, #3d3d50);
}

html[data-theme="vanilla-dark"] .obsidian-editor-toolbar button {
  background: none;
  border: none;
  cursor: pointer;
  margin-right: 8px;
  padding: 4px 8px;
  border-radius: 4px;
  color: var(--vanilla-dark-text-normal, #e2e2e2);
}

html[data-theme="vanilla-dark"] .obsidian-editor-toolbar button:hover {
  background-color: rgba(255, 255, 255, 0.05);
}

html[data-theme="vanilla-dark"] .obsidian-editor-toolbar button.active {
  background-color: var(--vanilla-dark-selection-bg, rgba(199, 184, 224, 0.2));
  color: var(--vanilla-dark-text-accent, #c7b8e0);
}

/* Editor container */
html[data-theme="vanilla-dark"] .obsidian-editor-container {
  display: flex;
  flex-direction: column;
  height: 100%;
  border: 1px solid var(--vanilla-dark-border-color, #3d3d50);
  border-radius: 4px;
  overflow: hidden;
  background-color: var(--vanilla-dark-background-primary, #1e1e2e);
}

html[data-theme="vanilla-dark"] .obsidian-editor-content {
  flex: 1;
  overflow: hidden;
  position: relative;
}

/* Lists styling */
html[data-theme="vanilla-dark"] .cm-list {
  color: var(--vanilla-dark-text-normal, #e2e2e2);
}

/* Ensure HTML lists are properly styled */
html[data-theme="vanilla-dark"] ul[style],
html[data-theme="vanilla-dark"] ol[style] {
  margin: 8px 0;
  padding-left: 24px;
  color: var(--vanilla-dark-text-normal, #e2e2e2);
}

html[data-theme="vanilla-dark"] ul li,
html[data-theme="vanilla-dark"] ol li {
  margin: 4px 0;
  color: var(--vanilla-dark-text-normal, #e2e2e2);
}

/* Ensure HTML in the editor is displayed properly */
html[data-theme="vanilla-dark"] .cm-html-rendered ul {
  list-style-type: disc;
  padding-left: 2em;
  margin: 0.5em 0;
  color: var(--vanilla-dark-text-normal, #e2e2e2);
}

html[data-theme="vanilla-dark"] .cm-html-rendered ol {
  list-style-type: decimal;
  padding-left: 2em;
  margin: 0.5em 0;
  color: var(--vanilla-dark-text-normal, #e2e2e2);
}

html[data-theme="vanilla-dark"] .cm-html-rendered li {
  margin: 0.25em 0;
}

/* Custom styled lists */
html[data-theme="vanilla-dark"]
  .cm-html-rendered
  ul[style*="list-style-type: square"] {
  list-style-type: square !important;
}

html[data-theme="vanilla-dark"] .cm-html-rendered ol[type="A"] {
  list-style-type: upper-alpha !important;
}
